<!DOCTYPE html>
<html lang="en">

<head>
    <title>EXP Initiative</title>
    <meta charset="utf-8">
    <!--Tre librarys dont remove, Bootstrap 5-->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="stylesheet.css">
    <script type="text/javascript" src="javascripts.js"></script>
    <script src="assets/navbar.js" type="text/javascript" defer></script>
    <script src="assets/footer.js" type="text/javascript" defer></script>
</head>

<exp-navbar></exp-navbar>
<body>
    <div class="mb-3 mx-auto w-50">
      <label for="InputTrackName" class="form-label">Namn på bana</label>
      <input type="text" class="form-control" id="InputTrackName">
    </div>
    <div class="mb-3 mx-auto w-50">
      <label for="exampleInputPlace" class="form-label">Plats</label>
      <input type="text" class="form-control" id="exampleInputPlace">
    </div>
    <div class="mb-3 mx-auto w-50">
        <label for="exampleInputStart" class="form-label">Start</label>
        <input type="text" class="form-control" id="exampleInputStart" aria-describedby="start_help">
        <div id="start_help" class="form-text">Skriv in ID:t på stationen</div>
      <!-- Include the Bootstrap 5 CSS file -->
      <label for="InputTrackName" class="table">Mittenstationer</label>
      <td><button class="btn btn-primary mt-3" onclick="addRow(this.parentNode.parentNode)">Add</button></td>
      <!-- Create a table with Bootstrap 5 classes -->
      <div class="">
    
        <table class="table table-striped" id="MittenstationerTable">
          <thead>
            <tr>
              <th>ID</th>
              <th>Distans till nästa</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><input type="text" class="form-control" name="ID"></td>
              <td><input type="text" class="form-control" name="Distans till nästa"></td>
              <td><button class="btn btn-danger" onclick="deleteRow(this.parentNode.parentNode)">Delete</button></td>
            </tr>
          </tbody>
        </table>
    
      </div>
    
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>
      <script>
        function addRow() {
          var table = document.getElementById("MittenstationerTable");
          var row = table.insertRow();
          var cell1 = row.insertCell(0);
          var cell2 = row.insertCell(1);
          var cell3 = row.insertCell(2);
          cell1.innerHTML = "<input type='text' class='form-control' name='ID'>";
          cell2.innerHTML = "<input type='text' class='form-control' name='Distans till nästa'>";
          cell3.innerHTML = "<button class='btn btn-danger' onclick='deleteRow(this.parentNode.parentNode)'>Delete</button>";

          // Collect the data from the new row input fields
          var id = row.querySelector("[name='ID]").value;
          var distance = row.querySelector("[name='Distans till nästa']").value;

          // Send the data to the API endpoint
          var data = {
            "name": id,
            "age": distance
          };
          fetch("https://example.com/api/endpoint", {
            method: "POST",
            body: JSON.stringify(data),
            headers: {
              "Content-Type": "application/json"
            }
          })
          .then(response => response.json())
          .then(data => console.log(data))
          .catch(error => console.error(error));
        }

    
        function deleteRow(row) {
          row.parentNode.removeChild(row);
        }
      </script>
        
    </div>
      </div>
      <div class="mb-3 mx-auto w-50">
        <label for="example_input_end" class="form-label">Slut</label> 
        <input type="text" class="form-control" id="example_input_end" aria-describedby="end_help">
        <div id="end_help" class="form-text">Skriv in ID:t på stationen</div>
      </div>
    <div class="mb-3 mx-auto w-50">
      <button type="submit" class="btn btn-primary">Submit</button>
    </div>
</body>
<exp-footer></exp-footer>